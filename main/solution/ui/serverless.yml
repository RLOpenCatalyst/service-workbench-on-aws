# For full config options, see docs.serverless.com
# Note that most settings in here come from config/settings/*.yaml
service: ${self:custom.settings.awsRegionShortName}-${self:custom.settings.solutionName}-ui

provider:
  name: aws
  region: ${self:custom.settings.awsRegion}
  profile: ${self:custom.settings.awsProfile}
  stackName: ${self:custom.settings.envName}-${self:service}
  deploymentBucket:
    name: ${self:custom.settings.deploymentBucketName}
    serverSideEncryption: AES256

custom:
  settings: ${file(./config/settings/.settings.js):merged}
  envTemplate: ${file(./config/environment/env-template.yml)}
  deploymentBucket:
    policy: ${self:custom.settings.deploymentBucketPolicy}
    versioning: true

resources:
  - Description: Service-Workbench-on-AWS ${self:custom.settings.version} ${self:custom.settings.solutionName} ${self:custom.settings.envName} UI

plugins:
  - serverless-deployment-bucket
  - '@aws-ee/base-serverless-ui-tools'
